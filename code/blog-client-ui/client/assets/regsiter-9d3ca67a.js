import{_ as V,u as w,a as h,b as m,r as p,o as k,c as q,d as x,e as R,h as e,g as d,H as N,v as S,x as U}from"./index-1c70507a.js";const v=r=>(S("data-v-09f9fb51"),r=r(),U(),r),C={class:"container"},I={class:"box"},P={class:"cont"},B={class:"form sign-in"},E=v(()=>e("h2",null,"欢迎回来",-1)),L={class:"sub-cont"},z=N('<div class="img" data-v-09f9fb51><div class="img__text m--up" data-v-09f9fb51><h2 data-v-09f9fb51>还没有账号?</h2><p data-v-09f9fb51>点击注册加入我们!</p></div><div class="img__text m--in" data-v-09f9fb51><h2 data-v-09f9fb51>我们中的一员?</h2><p data-v-09f9fb51>如果您已经有帐户，请登录。我们很想念您!</p></div><div class="img__btn" data-v-09f9fb51><span class="m--up" data-v-09f9fb51>注 册</span><span class="m--in" data-v-09f9fb51>登 录</span></div></div>',1),A={class:"form sign-up"},F=v(()=>e("h2",null,"一起探索世界吧！",-1)),Z={__name:"regsiter",setup(r){const u=w(),f=h(),n=m({msg:"",userName:"",userPassword:""}),c=p({msg:""}),t=m({username:"",userpassword:"",email:"",code:""}),i=p({nameRequired:l=>!!l||"用户名不能为空",passwordRequired:l=>!!l||"密码不能为空",email:l=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(l)||"邮箱不能为空"}),_=()=>{f.push("/user/forget")},b=async()=>{(await u.login({username:n.userName,password:n.userPassword})).data.status==200&&window.history.back()},g=async()=>{(await u.resgsiter(t)).data.status==200&&window.history.back()},y=async()=>{u.emailVerify({email:t.email}).then(l=>{c.value.msg=l.msg})};return k(()=>{document.querySelector(".img__btn").addEventListener("click",function(){document.querySelector(".cont").classList.toggle("s--signup")})}),(l,s)=>{const o=q("v-text-field");return x(),R("div",C,[e("div",I,[e("div",P,[e("div",B,[E,e("label",null,[d(o,{modelValue:n.userName,"onUpdate:modelValue":s[0]||(s[0]=a=>n.userName=a),density:"compact","prepend-inner-icon":"mdi-account",label:"用户名",variant:"outlined",rules:[i.value.nameRequired]},null,8,["modelValue","rules"])]),e("label",null,[d(o,{modelValue:n.userPassword,"onUpdate:modelValue":s[1]||(s[1]=a=>n.userPassword=a),type:"password",label:"密码",variant:"outlined","prepend-inner-icon":"mdi-shield-key",density:"compact",required:"",rules:[i.value.passwordRequired]},null,8,["modelValue","rules"])]),e("p",{class:"forgot-pass",onClick:_},"忘记密码？"),e("button",{type:"button",class:"submit",onClick:b},"登 录")]),e("div",L,[z,e("div",A,[F,e("label",null,[d(o,{modelValue:t.username,"onUpdate:modelValue":s[2]||(s[2]=a=>t.username=a),density:"compact","prepend-inner-icon":"mdi-account",label:"用户名",variant:"outlined",rules:[i.value.nameRequired]},null,8,["modelValue","rules"])]),e("label",null,[d(o,{modelValue:t.email,"onUpdate:modelValue":s[3]||(s[3]=a=>t.email=a),density:"compact","prepend-inner-icon":"mdi-email","append-icon":"mdi-send",label:"邮箱",variant:"outlined","onClick:append":y,rules:[i.value.email],messages:c.value.msg},null,8,["modelValue","rules","messages"])]),e("label",null,[d(o,{modelValue:t.code,"onUpdate:modelValue":s[4]||(s[4]=a=>t.code=a),density:"compact",label:"验证码",variant:"outlined"},null,8,["modelValue"])]),e("label",null,[d(o,{modelValue:t.userpassword,"onUpdate:modelValue":s[5]||(s[5]=a=>t.userpassword=a),type:"password",label:"密码",variant:"outlined","prepend-inner-icon":"mdi-shield-key",density:"compact",required:"",rules:[i.value.passwordRequired]},null,8,["modelValue","rules"])]),e("button",{type:"button",class:"submit",onClick:g},"注 册")])])])])])}}},M=V(Z,[["__scopeId","data-v-09f9fb51"]]);export{M as default};
