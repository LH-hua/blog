import{b as I,c as e,d as r,l as u,w as t,g as a,m as N,C as E,j as i,e as K,F as S,p as U,t as j,h as q}from"./index-1c70507a.js";import{u as D}from"./dataStore-307f7036.js";const H=q("div",{style:{color:"rgba(0, 0, 0, 0.5)"}},"搜索历史",-1),$={__name:"search",emits:"search",setup(L,{emit:m}){const p=m,s=D(),o=I({serachValue:"",historyItems:[]}),h=()=>{s.clear()},v=n=>{if(n){const l=s.history();o.historyItems=l}};function f(n){o.serachValue=n,_()}async function _(){o.serachValue&&(p("search"),await s.query({title:o.serachValue}),o.serachValue="")}return(n,l)=>{const y=e("v-text-field"),V=e("v-toolbar-title"),b=e("v-spacer"),x=e("v-icon"),C=e("v-btn"),k=e("v-toolbar"),g=e("v-list-item"),w=e("v-card-text"),B=e("v-card"),F=e("v-menu");return r(),u(F,null,{activator:t(({props:c})=>[a(y,N(c,{class:"mx-auto",density:"compact",variant:"outlined",placeholder:"输入搜索内容","prepend-inner-icon":"mdi-magnify",clearable:"","hide-details":"",flat:"",rounded:"","item-props":"",modelValue:o.serachValue,"onUpdate:modelValue":l[0]||(l[0]=d=>o.serachValue=d),"onClick:clear":n.handlerClear,onKeyup:E(_,["enter"]),"onUpdate:focused":v}),null,16,["modelValue","onClick:clear"])]),default:t(()=>[a(B,null,{default:t(()=>[a(k,{density:"compact",extended:"","extension-height":10,color:"white"},{default:t(()=>[a(V,null,{default:t(()=>[H]),_:1}),a(b),a(C,{style:{color:"rgba(0, 0, 0, 0.5)"},onClick:h},{default:t(()=>[i(" 清除 "),a(x,null,{default:t(()=>[i("mdi-delete")]),_:1})]),_:1})]),_:1}),a(w,null,{default:t(()=>[(r(!0),K(S,null,U(o.historyItems,c=>(r(),u(g,{key:c,onClick:d=>f(c)},{default:t(()=>[i(j(c),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})}}};export{$ as _};
