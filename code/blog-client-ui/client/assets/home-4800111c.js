import{u as C,a as I,r as f,b as g,o as h,c as n,d as r,e as c,f as a,g as e,w as t,m as F,h as u,n as A,i as H,j as m,_ as L,k as M,l as T,F as P,p as Z,t as D}from"./index-1c70507a.js";import{u as E}from"./dataStore-307f7036.js";import"./article-fb1a7804.js";const O={key:0},U={class:"d-flex justify-center align-center"},G={key:1},J={__name:"login",setup(y){const s=C(),l=I();f({nameRequired:o=>!!o||"用户名不能为空",passwordRequired:o=>!!o||"密码不能为空",email:o=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(o)||"Invalid e-mail."}),f(""),f(!1),g({msg:"",userName:"",userPassword:""});const i=()=>{s.loginOut()},d=()=>{l.push("/user/login")},p=()=>{console.log(s.user),l.push(`/userSpace/${s.user._id}`)};return h(()=>{}),(o,v)=>{const _=n("v-img"),x=n("v-avatar"),k=n("v-list-item"),b=n("v-list"),w=n("v-divider"),R=n("v-card-title"),S=n("router-link"),B=n("v-list-item-title"),N=n("v-card-text"),$=n("v-btn"),V=n("v-card-actions"),j=n("v-card"),q=n("v-menu");return r(),c("div",null,[a(s).isLogin?(r(),c("div",O,[e(q,{transition:"slide-y-transition","open-on-hover":""},{activator:t(({props:z})=>[e(x,F(z,{onClick:p}),{default:t(()=>[e(_,{src:a(s).user.avatar,alt:a(s).user.username},null,8,["src","alt"])]),_:2},1040)]),default:t(()=>[e(j,null,{default:t(()=>[e(R,null,{default:t(()=>[u("div",U,[e(x,A(H(o.props)),{default:t(()=>[e(_,{src:a(s).user.avatar,alt:a(s).user.username},null,8,["src","alt"])]),_:1},16),e(b,{lines:"two"},{default:t(()=>[e(k,{title:a(s).user.username,subtitle:a(s).user.desc||"这人有点懒，什么也没写！"},null,8,["title","subtitle"])]),_:1})]),e(w)]),_:1}),e(N,null,{default:t(()=>[e(b,null,{default:t(()=>[e(k,null,{default:t(()=>[e(B,null,{default:t(()=>[e(S,{to:"/user/"+a(s).user._id},{default:t(()=>[m("个人信息")]),_:1},8,["to"])]),_:1})]),_:1})]),_:1}),e(w)]),_:1}),e(V,null,{default:t(()=>[e($,{block:"",onClick:i},{default:t(()=>[m("推出登录")]),_:1})]),_:1})]),_:1})]),_:1})])):(r(),c("div",G,[e($,{color:"primary",text:"注 册",variant:"text",onClick:d},{default:t(()=>[m("登 录 | 注 册")]),_:1})]))])}}};const K={class:"navigation"},Q=["href"],W={__name:"navigation",setup(y){g({serachValue:"",historyItems:[]});const s=g({menu:[{id:"1",pid:"0",icon:"",name:"往昔册",url:"/",thirdParty:!1,tag:!1,children:[]},{id:"1",pid:"0",icon:"",name:"易事屋",url:"/easyHouse",tag:!1,children:[]},{id:"1",pid:"0",icon:"",name:"需求墙",url:"/demand",tag:!1,children:[]}],login:!0,dialog:!1,token:localStorage.getItem("token")}),l=I();M(),C(),E();function i(){l.push("/")}return h(()=>{}),(d,p)=>{const o=n("v-spacer"),v=n("v-container");return r(),T(v,{class:"d-flex align-center"},{default:t(()=>[u("div",{class:"font-weight-bold",style:{display:"flex","justify-content":"center","align-items":"center",width:"40px",height:"40px","text-align":"center",cursor:"pointer"},onClick:i}," 昔日 "),m(" 回忆不曾丢失，只是存在这里 "),e(o),u("ul",K,[(r(!0),c(P,null,Z(s.menu,_=>(r(),c("li",{key:_.url},[u("a",{href:_.url},D(_.name),9,Q)]))),128))]),e(J)]),_:1})}}},X=L(W,[["__scopeId","data-v-d9b9215a"]]);const Y={class:"main"},se={__name:"home",setup(y){return h(()=>{}),(s,l)=>{const i=n("v-app-bar"),d=n("router-view"),p=n("v-main");return r(),c(P,null,[e(i,{class:"custom",density:"compact",flat:"",style:{position:"static"}},{default:t(()=>[e(X)]),_:1}),e(p,null,{default:t(()=>[u("div",Y,[e(d)])]),_:1})],64)}}};export{se as default};
