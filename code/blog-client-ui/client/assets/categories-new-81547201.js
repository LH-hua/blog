import{T as N}from"./toastui-editor-1a4c2a60.js";import{g as T,d as V}from"./article-fb1a7804.js";import{_ as C,r as B,b as E,o as M,c as o,d as D,e as J,g as t,w as e,j as v,f as g,v as O,x as U,h as s}from"./index-1c70507a.js";const j=d=>(O("data-v-5a32cb6c"),d=d(),U(),d),q={class:"containner"},A=j(()=>s("ul",null,[s("li",null,"给你的贴子选择正确的分类"),s("li",null,"鲜明的标题，好的标题更能够吸引人"),s("li",null,"认真的书写你的正文，真诚是表达的前提"),s("li",null,"允许转载，请在末尾给出原文链接")],-1)),F={__name:"categories-new",setup(d){let i;const h=B();let l=E({title:"",captchas_id:"",body:""});const w=()=>{const a=i.getMarkdown();l.body=a;const n=JSON.stringify(l);localStorage.setItem("post",n)},x=async()=>{const a=i.getMarkdown();l.body=a,V(l).then(()=>{localStorage.getItem("post")&&localStorage.clear("post")})},b=()=>{i=new N({el:document.querySelector("#editor"),height:"50vh",initialEditType:"markdown",previewStyle:"vertical",hooks:{addImageBlobHook:(a,n)=>{const _=new FormData;_.append("image",a),formdata("/api/file/upload-image",_).then(c=>{n(c.data.src,"")})}}})};return M(()=>{localStorage.getItem("post")&&(l=JSON.parse(localStorage.getItem("post"))),b(),T().then(a=>{h.value=a.data})}),(a,n)=>{const _=o("v-toolbar"),c=o("v-col"),S=o("v-text-field"),r=o("v-row"),p=o("v-card-text"),m=o("v-btn"),u=o("v-card"),f=o("v-sheet"),k=o("v-card-title"),y=o("side-main");return D(),J("div",q,[t(y,null,{main:e(()=>[t(f,{class:"pa-5"},{default:e(()=>[t(_,{color:"white",title:"话题添加"}),t(u,{flat:""},{actions:e(()=>[t(r,null,{default:e(()=>[t(c,{cols:"1"}),t(c,{cols:"11"},{default:e(()=>[t(m,{onClick:w,text:"保 存"}),t(m,{onClick:x,text:"提 交"})]),_:1})]),_:1})]),default:e(()=>[t(p,null,{default:e(()=>[t(r,null,{default:e(()=>[t(c,{cols:"1","align-self":"center"},{default:e(()=>[v("标题")]),_:1}),t(c,{cols:"11"},{default:e(()=>[t(S,{modelValue:g(l).title,"onUpdate:modelValue":n[0]||(n[0]=I=>g(l).title=I),density:"compact",variant:"outlined",placeholder:"一个拥有标识度的标题能够更加的吸引人","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),side:e(()=>[t(f,{class:"pa-5"},{default:e(()=>[t(u,{flat:""},{default:e(()=>[t(k,null,{default:e(()=>[v(" 发帖提示 ")]),_:1}),t(p,null,{default:e(()=>[A]),_:1})]),_:1})]),_:1})]),_:1})])}}},K=C(F,[["__scopeId","data-v-5a32cb6c"]]);export{K as default};
